<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Building &#8212; WebAssembly</title>
    <link rel="stylesheet" href="_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static/woofwoofinc.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '1.0.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="_static/bootstrap-3.3.7/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="_static/bootstrap-sphinx.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Documentation" href="documentation.html" />
    <link rel="prev" title="Development Tools Container" href="dev.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">

  </head>
  <body>

  <div id="navbar" class="navbar navbar-inverse navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="index.html">
          WebAssembly</a>
        <span class="navbar-text navbar-version pull-left"><b>1.0.0</b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            
            
              <li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="index.html">Contents <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"><ul class="current">
<li class="toctree-l1"><a class="reference internal" href="dev.html">Development Tools Container</a><ul>
<li class="toctree-l2"><a class="reference internal" href="dev.html#building">Building</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Building</a></li>
<li class="toctree-l1"><a class="reference internal" href="documentation.html">Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="releasing.html">Releasing</a><ul>
<li class="toctree-l2"><a class="reference internal" href="releasing.html#publishing-the-documentation">Publishing the Documentation</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="clippy.html">Clippy</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="contributing.html">Contributing</a></li>
<li class="toctree-l1"><a class="reference internal" href="conduct.html">Contributor Covenant Code of Conduct</a><ul>
<li class="toctree-l2"><a class="reference internal" href="conduct.html#our-pledge">Our Pledge</a></li>
<li class="toctree-l2"><a class="reference internal" href="conduct.html#our-standards">Our Standards</a></li>
<li class="toctree-l2"><a class="reference internal" href="conduct.html#our-responsibilities">Our Responsibilities</a></li>
<li class="toctree-l2"><a class="reference internal" href="conduct.html#scope">Scope</a></li>
<li class="toctree-l2"><a class="reference internal" href="conduct.html#enforcement">Enforcement</a></li>
<li class="toctree-l2"><a class="reference internal" href="conduct.html#attribution">Attribution</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="thanks.html">Thanks</a></li>
<li class="toctree-l1"><a class="reference internal" href="license.html">License</a></li>
</ul>
</ul>
</li>
              
            
            
              
                
  <li>
    <a href="dev.html" title="Previous Chapter: Development Tools Container"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm hidden-tablet">&laquo; Development T...</span>
    </a>
  </li>
  <li>
    <a href="documentation.html" title="Next Chapter: Documentation"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm hidden-tablet">Documentation &raquo;</span>
    </a>
  </li>
              
            
            
            
            
              <li class="hidden-sm"></li>
            
          </ul>

          
            
<form class="navbar-form navbar-right" action="search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
    <div class="col-md-12 content">
      
  <div class="section" id="building">
<h1>Building<a class="headerlink" href="#building" title="Permalink to this headline">Â¶</a></h1>
<p>The build stack uses the <a class="reference external" href="https://www.rust-lang.org">Rust</a> development tools on your system. Install these
on your system with <a class="reference external" href="https://www.rustup.rs">rustup</a> if they are not already available.</p>
<p>The following dependencies are also needed to build the project.</p>
<ul class="simple">
<li><a class="reference external" href="https://cmake.org">CMake</a>: Needed by Cargo tool library dependency.</li>
<li><a class="reference external" href="https://wiki.openssl.org/index.php/Libssl_API">Libssl</a>: Needed by Cargo tool library dependency.</li>
</ul>
<p><a class="reference external" href="https://github.com/kripken/emscripten">Emscripten</a> is needed to compile <code class="docutils literal"><span class="pre">.wasm</span></code> files. Install it using:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>EMSCRIPTEN_VERSION=1.37.21
wget https://s3.amazonaws.com/mozilla-games/emscripten/releases/emsdk-portable.tar.gz
tar xzf emsdk-portable.tar.gz
cd emsdk-portable

emsdk update
emsdk install clang-e${EMSCRIPTEN_VERSION}-64bit
emsdk install emscripten-${EMSCRIPTEN_VERSION}

emsdk activate emscripten-${EMSCRIPTEN_VERSION}
emsdk activate clang-e${EMSCRIPTEN_VERSION}-64bit
</pre></div>
</div>
<p>Then add the location of the <code class="docutils literal"><span class="pre">emsdk-portable</span></code> directory,
<code class="docutils literal"><span class="pre">emsdk-portable/clang/e$EMSCRIPTEN_VERSION_64bit</span></code>, and
<code class="docutils literal"><span class="pre">emsdk-portable/emscripten/$EMSCRIPTEN_VERSION</span></code> to your PATH.</p>
<p>Finally install the Rust WebAssembly target architecture.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">rustup</span> <span class="n">target</span> <span class="n">add</span> <span class="n">wasm32</span><span class="o">-</span><span class="n">unknown</span><span class="o">-</span><span class="n">emscripten</span>
</pre></div>
</div>
<p>The build stack also uses <a class="reference external" href="https://nodejs.org">Node.js</a>, the <a class="reference external" href="https://yarnpkg.com">Yarn</a> package manager, and the
<a class="reference external" href="https://webpack.js.org">Webpack</a> module bundler. Install these on your system if they are not already
available.</p>
<p>It is also useful to have the <a class="reference external" href="https://github.com/webpack/webpack-dev-server">Webpack development server</a> installed.</p>
<p>A <a class="reference external" href="https://coreos.com/rkt">rkt</a> container build script is included in the project repository and
provides an installation which can be used to build the project also. See the
description on building and running the container in the <a class="reference internal" href="dev.html#dev"><span class="std std-ref">Development Tools Container</span></a> section
of this document for details.</p>
<p>For macOS, <a class="reference external" href="https://github.com/woofwoofinc/rktmachine">RktMachine</a> provides a CoreOS VM which supports developing using
the rkt container system.</p>
<p>For the Webpack build, first install <a class="reference external" href="https://github.com/woofwoofinc/literacy">Literacy</a> and the other project
dependencies using Yarn.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>$ yarn
</pre></div>
</div>
<p>Then run the Webpack development server to build and serve a test site.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>$ webpack-dev-server -d
</pre></div>
</div>
<div class="admonition caution">
<p class="first admonition-title">Caution</p>
<p>Use the following if developing on the included rkt container in this
repository. The extra options are needed for the development server to be
reachable from the host machine.</p>
<div class="last highlight-bash"><div class="highlight"><pre><span></span>$ webpack-dev-server -d --host <span class="m">0</span>.0.0.0 --public rktmachine.local:8080
</pre></div>
</div>
</div>
<p>The test site can be accessed via a browser on
<a class="reference external" href="http://localhost:8080">localhost:8080</a>.</p>
<p>To test the Rust project, use:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">cargo</span> <span class="n">test</span>
</pre></div>
</div>
</div>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
    </p>
    <p>
    </p>
  </div>
</footer>
  </body>
</html>